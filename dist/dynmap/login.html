<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="Canis Minor">
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
<title>
  
     &middot; CMC
  
</title>
<!-- Bootstrap core CSS -->
<link href="/css/main.css" rel="stylesheet">
<script src="//cdn.bootcss.com/jquery/3.0.0/jquery.min.js"></script>



</head>
<body class="bd-docs" data-spy="scroll" data-target=".bd-sidenav-active">
<a id="skippy" class="sr-only sr-only-focusable" href="#content">
  <div class="container">
    <span class="skiplink-text">Skip to main content</span>
  </div>
</a>

<header class="navbar navbar-light navbar-static-top bd-navbar">
  <div class="container">
    <nav>
      <div class="clearfix">
        <button class="navbar-toggler pull-xs-right hidden-sm-up iconfont-extend icon-sort" type="button"
                data-toggle="collapse"
                data-target="#bd-main-nav" aria-controls="bd-main-nav" aria-expanded="false"
                aria-label="Toggle navigation">
        </button>
        <a class="navbar-brand hidden-md-up" href="/">
          CMC
        </a>
      </div>
      <div class="collapse navbar-toggleable-xs" id="bd-main-nav">
        <a class="site-logo hidden-sm-down" href="/"></a>
        <ul class="nav navbar-nav">
          <li class="nav-item active">
            <a class="nav-item nav-link "
               href="/">首页</a>
          </li>

          <li class="nav-item">
            <a class="nav-item nav-link "
               href="http://map.canisminor.cc">地图</a>
          </li>

        </ul>
      </div>
    </nav>
  </div>
</header>


<div id="content">
  <script type="text/javascript" src="standalone/config.js?_=${project.version}-${BUILD_NUMBER}"></script>

<script type="text/javascript">
  $(document).ready(function () {
    var status = $('#status_message');
    if (window.location.href.indexOf('error=loginfailed') >= 0)
      $('<div/>').text('Login Failed ').appendTo(status);
    if (window.location.href.indexOf('error=verifyfailed') >= 0)
      $('<div/>').text('Password Verify Error ').appendTo(status);
    if (window.location.href.indexOf('error=registerfailed') >= 0)
      $('<div/>').text('Registration failed (bad passcode?) ').appendTo(status);
    $('form')[0].setAttribute('action', config.url.login);
    $('form')[1].setAttribute('action', config.url.register);
    document.forms['login'].elements['j_username'].focus();
  });

  $(function () {
    $('form[name=register]').submit(function () {
      $.post($(this).attr('action'), $(this).serialize(), function (json) {
        if (json.result == 'success')
          window.location = 'index.html';
        else
          window.location = 'login.html?error=' + json.result;
      }, 'json');
      return false;
    });
  });

  $(function () {
    $('form[name=login]').submit(function () {
      $.post($(this).attr('action'), $(this).serialize(), function (json) {
        if (json.result == 'success')
          window.location = 'index.html';
        else
          window.location = 'login.html?error=' + json.result;
      }, 'json');
      return false;
    });
  });
</script>

</head>
<body>
<div class='dynmaplogin'>
  <h2>Minecraft Dynamic Map - Login/Register</h2>
  <div id="status_message" class="statusmessage"></div>
  <table class='loginregister'>
    <tr>
      <th>Existing User:</th>
    </tr>
    <tr>
      <td class='login'>
        <FORM METHOD=POST name=login ACTION="up/login">
          <p>
            Enter user ID and password:
            <BR>
            <BR>
          <table>
            <tr>
              <td>User ID</td>
              <td><input type="text" size="20" name="j_username"></td>
            </tr>
            <tr>
              <td>Password</td>
              <td><input type="password" size="20" name="j_password"></td>
            </tr>
          </table>
          <BR>
          <input type="submit" name="login" value="Login">
          </p>
        </form>
        <p>
      </td>
    </tr>
    <tr>
      <th>Register New User:</th>
    </tr>
    <tr>
      <td class='register'>
        <FORM METHOD=POST name=register ACTION="up/register">
          <p>
            Run '/dynmap webregister' and enter returned registration code, along with userid and password:
            <BR>
            <BR>
          <table>
            <tr>
              <td>User ID</td>
              <td><input type="text" size="20" name="j_username"></td>
            </tr>
            <tr>
              <td>Password</td>
              <td><input type="password" size="20" name="j_password"></td>
            </tr>
            <tr>
              <td>Verify Password</td>
              <td><input type="password" size="20" name="j_verify_password"></td>
            </tr>
            <tr>
              <td>Registration Code</td>
              <td><input type="text" size="20" name="j_passcode"></td>
            </tr>
          </table>
          <BR>
          <BR>
          <input type="submit" name="register" value="Register">
          </p>
        </form>
      </td>
    </tr>
  </table>
</div>

</div>

<footer class="bd-footer text-muted">
  <div class="container">
    <ul class="bd-footer-links">
      <li><a href="//map.canisminor.cc">Map</a></li>
      <li><a href="//hook.canisminor.cc">Webhook</a></li>
    </ul>
    <p>Support by <a href="canisminor1990@gmail.com">@Canisminor</a> - CMC</p>
</div>
</footer>

<script src="//cdn.bootcss.com/tether/1.3.4/js/tether.min.js"></script>
<script src="//cdn.bootcss.com/bootstrap/4.0.0-alpha.3/js/bootstrap.min.js"></script>


<script src="/js/main.js"></script>


<!-- toolbar -->
<div id="toolbar" class="btn-group-vertical">
  <button type="button" id="toTop" class="btn iconfont-extend icon-top" data-toggle="tooltip" data-placement="left"
          title="回到顶部">
  </button>
  
  
</div>

<!-- js -->




<script>
  $(function () {
    var ifReact = 0;
    $('[data-toggle="tooltip"]').tooltip();
    $('#toTop').click(function () {
      $("html,body").animate({scrollTop: 0}, 500);
    });
    $('#toReact').click(function () {
      if (ifReact == 0) {
        $(".na:contains('class=')").html('className=');
        ifReact = 1;
      }else {
        $(".na:contains('className=')").html('class=');
        ifReact = 0;
      }
    });
    var ifPic = 0;
    $('#toPic').click(function () {
      if (ifPic == 0) {
        $(".art-layer").css('background','rgba(123,197,59,.02)');
        $(".art-layer").css('box-shadow','0 0 0 1px rgba(123,197,59,.5)');
        ifPic = 1;
      }else {
        $(".art-layer").css('background','rgba(0,0,0,0)');
        $(".art-layer").css('box-shadow','0 0 0 1px rgba(123,197,59,0)');
        ifPic = 0;
      }
    });
  })
</script>
</body>
</html>


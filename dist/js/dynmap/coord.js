componentconstructors.coord=function(t,o){var n=L.Control.extend({valfield:$("<span/>"),mcrfield:$("<span/>"),onAdd:function(t){return o.hidey?this._container=L.DomUtil.create("div","coord-control coord-control-noy"):this._container=L.DomUtil.create("div","coord-control"),this._map=t,$("<span/>").addClass("coord-control-label").text((o.label||"x,y,z")+": ").appendTo(this._container),$("<br/>").appendTo(this._container),this.valfield.addClass("coord-control-value").text("").appendTo(this._container),o["show-mcr"]&&($("<br/>").appendTo(this._container),this.mcrfield.addClass("coord-control-value").text("").appendTo(this._container)),this._update(),this.getContainer()},getPosition:function(){return"topleft"},getContainer:function(){return this._container},_update:function(){!this._map}}),e=new n;t.map.addControl(e),t.map.on("mousemove",function(n){if(t.map){var a=t.getProjection().fromLatLngToLocation(n.latlng,t.world.sealevel+1);o.hidey?e.valfield.text(Math.round(a.x)+","+Math.round(a.z)):e.valfield.text(Math.round(a.x)+","+a.y+","+Math.round(a.z)),o["show-mcr"]&&e.mcrfield.text("r."+Math.floor(a.x/512)+"."+Math.floor(a.z/512)+".mcr")}}),t.map.on("mouseout",function(n){t.map&&(o.hidey?e.valfield.text("---,---"):e.valfield.text("---,---,---"),o["show-mcr"]&&e.mcrfield.text("--------"))})};
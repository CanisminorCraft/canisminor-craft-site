function createMinecraftHead(e,r,t,n){var a=new Image;a.onload=function(){t(a)},a.onerror=function(){n()};var o;o="body"==r?"faces/body/"+e+".png":"faces/"+r+"x"+r+"/"+e+".png";var i=dynmap.options.url.markers;i.indexOf("?")>=0?a.src=i+escape(o):a.src=i+o}function getMinecraftHead(e,r,t){createMinecraftHead(e,r,t,function(){console.error('Failed to retrieve face of "',e,'" with size "',r,'"!')})}function getMinecraftTime(e){e=parseInt(e);var r=e>=0&&e<13700;return{servertime:e,days:parseInt((e+8e3)/24e3),hours:(parseInt(e/1e3)+6)%24,minutes:parseInt(e/1e3%1*60),seconds:parseInt(e/1e3%1*60%1*60),day:r,night:!r}}function chat_encoder(e){if(dynmap.options.cyrillic&&"player"===e.source){for(var r="",t=0;t<e.text.length;t++){var n=e.text.charCodeAt(t);if(n>=192){var n=e.text.charCodeAt(t);r+=String.fromCharCode(n+848)}else r+=184==n?String.fromCharCode(1105):String.fromCharCode(n)}return r}return e.text}
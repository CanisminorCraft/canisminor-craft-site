componentconstructors.timeofdayclock=function(n,a){var t=null,s=$("<div/>").addClass("largeclock").addClass("timeofday").appendTo(n.options.container),d=$("<div/>").height(60).addClass("timeofday").addClass("sun").css("background-position","-150px -150px").appendTo(s),o=$("<div/>").height(60).addClass("timeofday").addClass("moon").css("background-position","-150px -150px").appendTo(d);if(a.showdigitalclock){var i=$("<div/>").addClass("timeofday").addClass("digitalclock").appendTo(s),e=function(n){var a=function(n,a){for(var t=n.toString();t.length<a;)t="0"+t;return t};return a(n.hours,2)+":"+a(n.minutes,2)},r=function(n){null!=t&&(window.clearTimeout(t),t=null);var a=null;n>=0?(a=getMinecraftTime(n),i.addClass(a.day?"day":"night").removeClass(a.night?"day":"night").text(e(a))):i.removeClass("day night").text(""),null==t&&null!=a&&(t=window.setTimeout(function(){t=null,r(a.servertime+1e3/60)},700))};$(n).bind("worldupdated",function(n,a){r(a.servertime)})}if(a.showweather){var l=$("<div/>").addClass("weather").appendTo(s),u=function(n,a,t){var s=t>23100||t<12900?"_day":"_night",d="sunny";n&&(d="stormy",a&&(d="thunder")),l.removeClass("stormy_day stormy_night sunny_day sunny_night thunder_day thunder_night").addClass(d+s)};$(n).bind("worldupdated",function(n,a){u(a.hasStorm,a.isThundering,a.servertime)})}$(n).bind("worldupdated",function(n,a){var t,s=a.servertime;if(s>23100||s<12900){var i=s+900;i=i>=24e3?i-24e3:i,t=i/27600*2*Math.PI}else{var i=s-12900;t=Math.PI+i/20400*2*Math.PI}var e=t+Math.PI;s>=0?(d.css("background-position",-50*Math.cos(t)+"px "+-50*Math.sin(t)+"px"),o.css("background-position",-50*Math.cos(e)+"px "+-50*Math.sin(e)+"px")):(d.css("background-position","-150px -150px"),o.css("background-position","-150px -150px"))})};